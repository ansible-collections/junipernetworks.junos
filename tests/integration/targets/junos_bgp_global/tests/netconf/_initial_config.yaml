---
- debug:
    msg: "START junos_bgp_global initial config on connection={{ ansible_connection }}"

- name: Set initial configuration for ospf
  junipernetworks.junos.junos_bgp_global:
    config:
      accept_remote_nexthop: true
      add_path_display_ipv4_address: true
      advertise_from_main_vpn_tables: true
      advertise_inactive: true
      authentication_algorithm: "md5"
      bgp_error_tolerance:
        malformed_route_limit: 20000000
      bmp:
        monitor: true
      damping: true
      description: "This is configured with Junos_bgp resource module"
      egress_te_sid_stats: true
      hold_time: 5
      holddown_all_stale_labels: true
      include_mp_next_hop: true
      log_updown: true
      no_advertise_peer_as: true
      no_aggregator_id: true
      no_client_reflect: true
      out_delay: 10
      precision_timers: true
      preference: 2

- debug:
    msg: "END junos_bgp_global initial config on connection={{ ansible_connection }}"
